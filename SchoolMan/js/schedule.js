const json = {
    schedules:[
        {
        type: "schedule",
        scheduleHeading: "A - Woche:",
        units:{
            1:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            2:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            3:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            4:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            5:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            6:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            7:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            8:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            }
        }
    },
    {
        type: "schedule",
        scheduleHeading: "B - Woche:",
        units:{
            1:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            2:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            3:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            4:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            5:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                thuesday:{
                    subject:{ name: "Biologie", abrv: "PHYS", room: "112"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            6:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                },
                friday:{
                    subject:{ name: "Deutsch", abrv: "PHYS", room: "006"}
                }
            },
            7:{
                time: "00:00",
                monday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "512"}
                },
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                }
            },
            8:{
                time: "00:00",
                wednesday:{
                    subject:{ name: "Englisch", abrv: "PHYS", room: "12"}
                },
                thursday:{
                    subject:{ name: "Physik", abrv: "PHYS", room: "012"}
                }
            }
        }
    }
    ]
};

$( document ).ready(function() {  
    updateSchedule();
});

function updateSchedule(){
    $.each(json['schedules'], function( index, value ) {
        let $schedule = buildScheduleTable(index, value);
        $('#scheduleContainer').append($schedule);
    });
}

function buildScheduleTable(scheduleID, scheduleObj){
    //create schedule div
    let $schedule = $('<div></div>');
    $schedule.attr("id","schedule-"+scheduleID);

    //add Table h5
    let $heatableding = $('<h5>' + scheduleObj.scheduleHeading + '</h5>');
    $schedule.append($heatableding);

    //add table elem
    let $table = $('<table></table>');
    $table.addClass("table");
    $table.addClass("table-striped");
    $schedule.append($table);

    //add table head and cols
    let $thead = $('<thead></thead>');
    $table.append($thead);
    let $theadRow = $('<tr></tr>');
    $.each(['#', "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag"], function( index, value ) {
        $('<th scope="col">' + value + '</th>').appendTo($theadRow);
    });
    $thead.append($theadRow);
    
    //fill table body with data
    let $tbody = $('<tbody></tbody>');
    $.each(scheduleObj.units, function( index, value ) {
        $row = buildTableRow(index, value);
        $tbody.append($row);
    });
    $table.append($tbody);

    return $schedule;
}

function buildTableRow(rowID, unitObj){
    $row = $('<tr></tr>');
    
    //first Col with time and number
    $('<th scope="row"> \
    <div class="container g-0"> \
      <div class="row g-0"> \
        <div class="col-md-4">'+ rowID +'</div> \
        <div class="col-md-8 text-center fw-normal">'+ unitObj.time +'</div> \
      </div> \
    </div> \
    </th>').appendTo($row);

    //add day cols
    $.each(['monday', 'thuesday', 'wednesday', 'thursday', 'friday'], function( index, value ) {
        if(!(value in unitObj)){
            $('<td></td>').appendTo($row);
        }
        else{
            $('<td>'+ unitObj[value].subject.name +'</td>').appendTo($row);
        }
    });

    return $row;
}

